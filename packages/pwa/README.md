# Restaurant Management System - PWA

Progressive Web App for customer ordering via iPad/tablet devices.

## Features

- **Menu Browsing**: Browse available menu items with categories and search
- **Shopping Cart**: Add items to cart with quantity selection
- **Order Placement**: Submit orders with special instructions
- **Order Tracking**: Real-time order status updates
- **Offline Support**: Queue orders when offline, sync when connection restored
- **Service Worker**: Cache menu data and static assets for offline access

## Development

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

## Environment Variables

Create a `.env` file based on `.env.example`:

```env
VITE_API_URL=http://localhost:5000
```

For production deployment on LAN, use the server's IP address:

```env
VITE_API_URL=http://192.168.1.100:5000
```

## Usage

### Accessing the PWA

1. Scan the QR code on the table (generated by the desktop app)
2. The PWA will open with the table ID in the URL: `?table=5`
3. Browse the menu and add items to cart
4. Place your order
5. Track order status in real-time

### URL Structure

- Menu: `/#menu?table=5`
- Cart: `/#cart?table=5`
- Status: `/#status?table=5`

## Architecture

### Pages

- **MenuPage**: Displays menu items with category filtering and search
- **CartPage**: Shows cart items, allows quantity adjustment, and order submission
- **StatusPage**: Displays order status with real-time updates

### Services

- **API Client**: Handles HTTP requests to the server
- **Offline Queue**: Manages order queue when offline using IndexedDB
- **Network Status**: Monitors online/offline status
- **Cart**: Manages shopping cart state with localStorage persistence

### Service Worker

- Cache-first strategy for static assets (images, CSS, JS)
- Network-first strategy for menu data with cache fallback
- Network-only for order submissions (handled by offline queue)

## Browser Support

- Modern browsers with ES2022 support
- Service Worker support required for offline functionality
- IndexedDB support required for offline queue

## Deployment

The PWA is served by the Express server at the root path. Build the PWA and copy the `dist` folder to the server's public directory.

```bash
npm run build
# Copy dist/* to server/public/
```

## Testing

Test the PWA on actual iPad/tablet devices for the best experience. Use the LAN IP address to access from devices on the same network.

Example: `http://192.168.1.100:5000/?table=5`
